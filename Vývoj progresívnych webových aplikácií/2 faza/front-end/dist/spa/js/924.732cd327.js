"use strict";(self["webpackChunkslack2_0"]=self["webpackChunkslack2_0"]||[]).push([[924],{3924:(e,a,l)=>{l.r(a),l.d(a,{default:()=>U});var t=l(3673),n=l(2323),s=l(8880);const o=(0,t.Uk)("G"),r={class:"q-subtitle-1 q-pl-md"},i=(0,t._)("img",{src:"https://cdn.quasar.dev/logo-v2/svg/logo.svg"},null,-1),u=(0,t.Uk)("Logout");function c(e,a,l,c,d,m){const w=(0,t.up)("q-btn"),p=(0,t.up)("q-avatar"),f=(0,t.up)("q-toolbar"),g=(0,t.up)("q-header"),h=(0,t.up)("q-space"),_=(0,t.up)("q-item-section"),v=(0,t.up)("q-item"),W=(0,t.up)("q-list"),b=(0,t.up)("q-menu"),k=(0,t.up)("q-item-label"),y=(0,t.up)("q-icon"),q=(0,t.up)("q-scroll-area"),Z=(0,t.up)("q-drawer"),C=(0,t.up)("router-view"),Q=(0,t.up)("q-page-container"),O=(0,t.up)("q-input"),D=(0,t.up)("q-footer"),L=(0,t.up)("q-layout"),A=(0,t.Q2)("ripple");return(0,t.wg)(),(0,t.iD)("div",{class:"WAL position-relative bg-grey-4",style:(0,n.j5)({height:e.$q.screen.height+"px"})},[(0,t.Wm)(L,{view:"lHh Lpr lFf",class:"WAL__layout shadow-3",container:""},{default:(0,t.w5)((()=>[(0,t.Wm)(g,{elevated:""},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"bg-grey-3 text-black"},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{round:"",flat:"",icon:"keyboard_arrow_left",class:"WAL__drawer-open q-mr-sm",onClick:a[0]||(a[0]=a=>e.leftDrawerOpen=!e.leftDrawerOpen)}),(0,t.Wm)(w,{round:"",flat:""},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{color:"primary","text-color":"white"},{default:(0,t.w5)((()=>[o])),_:1})])),_:1}),(0,t._)("span",r,(0,n.zw)(e.activeChannel),1)])),_:1})])),_:1}),(0,t.Wm)(Z,{modelValue:e.leftDrawerOpen,"onUpdate:modelValue":a[2]||(a[2]=a=>e.leftDrawerOpen=a),"show-if-above":"",bordered:"",breakpoint:690},{default:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"bg-grey-3"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{class:"cursor-pointer"},{default:(0,t.w5)((()=>[i])),_:1}),(0,t.Wm)(h),(0,t.Wm)(w,{round:"",flat:"",icon:"more_vert"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{"auto-close":"",offset:[110,8]},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{style:{"min-width":"150px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(v,{clickable:"",onClick:e.logout},{default:(0,t.w5)((()=>[(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[u])),_:1})])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1}),(0,t.Wm)(w,{round:"",flat:"",icon:"close",class:"WAL__drawer-close",onClick:a[1]||(a[1]=a=>e.leftDrawerOpen=!e.leftDrawerOpen)})])),_:1}),(0,t.Wm)(q,{style:{height:"calc(100% - 100px)"}},{default:(0,t.w5)((()=>[(0,t.Wm)(W,null,{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.channels,((a,l)=>(0,t.wy)(((0,t.wg)(),(0,t.j4)(v,{key:l,clickable:"",onClick:l=>e.setActiveChannel(a)},{default:(0,t.w5)((()=>[(0,t.Wm)(_,null,{default:(0,t.w5)((()=>[(0,t.Wm)(k,{lines:"1"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,n.zw)(a),1)])),_:2},1024),(0,t.Wm)(k,{class:"conversation__summary",caption:""},{default:(0,t.w5)((()=>{var l;return[(0,t.Uk)((0,n.zw)((null===(l=e.lastMessageOf(a))||void 0===l?void 0:l.content)||""),1)]})),_:2},1024)])),_:2},1024),(0,t.Wm)(_,{side:""},{default:(0,t.w5)((()=>[(0,t.Wm)(y,{name:"keyboard_arrow_down"})])),_:1})])),_:2},1032,["onClick"])),[[A]]))),128))])),_:1})])),_:1})])),_:1},8,["modelValue"]),(0,t.Wm)(Q,{class:"bg-grey-2"},{default:(0,t.w5)((()=>[(0,t.Wm)(C)])),_:1}),(0,t.Wm)(D,null,{default:(0,t.w5)((()=>[(0,t.Wm)(f,{class:"bg-grey-3 text-black row"},{default:(0,t.w5)((()=>[(0,t.Wm)(O,{modelValue:e.message,"onUpdate:modelValue":a[3]||(a[3]=a=>e.message=a),disable:e.loading,onKeydown:(0,s.D2)((0,s.iM)(e.send,["prevent"]),["enter"]),rounded:"",outlined:"",dense:"",class:"WAL__field col-grow q-mr-sm","bg-color":"white",placeholder:"Type a message"},null,8,["modelValue","disable","onKeydown"]),(0,t.Wm)(w,{disable:e.loading,onClick:e.send,round:"",flat:"",icon:"send"},null,8,["disable","onClick"])])),_:1})])),_:1})])),_:1})],4)}var d=l(3617),m=function(e,a,l,t){function n(e){return e instanceof l?e:new l((function(a){a(e)}))}return new(l||(l=Promise))((function(l,s){function o(e){try{i(t.next(e))}catch(a){s(a)}}function r(e){try{i(t["throw"](e))}catch(a){s(a)}}function i(e){e.done?l(e.value):n(e.value).then(o,r)}i((t=t.apply(e,a||[])).next())}))};const w=(0,t.aZ)({name:"ChatLayout",data(){return{leftDrawerOpen:!1,message:"",loading:!1}},computed:Object.assign(Object.assign({},(0,d.Se)("channels",{channels:"joinedChannels",lastMessageOf:"lastMessageOf"})),{activeChannel(){return this.$store.state.channels.active}}),methods:Object.assign(Object.assign(Object.assign({send(){return m(this,void 0,void 0,(function*(){this.loading=!0,console.log("send",this.activeChannel),yield this.addMessage({channel:this.activeChannel,message:this.message}),this.message="",this.loading=!1}))}},(0,d.OI)("channels",{setActiveChannel:"SET_ACTIVE"})),(0,d.nv)("auth",["logout"])),(0,d.nv)("channels",["addMessage"]))});var p=l(4260),f=l(9214),g=l(3812),h=l(9570),_=l(8240),v=l(5096),W=l(2901),b=l(2025),k=l(6335),y=l(7011),q=l(3414),Z=l(2035),C=l(7704),Q=l(2350),O=l(4554),D=l(2652),L=l(1762),A=l(8104),j=l(6115),x=l(6489),I=l(7518),M=l.n(I);const V=(0,p.Z)(w,[["render",c]]),U=V;M()(w,"components",{QLayout:f.Z,QHeader:g.Z,QToolbar:h.Z,QBtn:_.Z,QAvatar:v.Z,QDrawer:W.Z,QSpace:b.Z,QMenu:k.Z,QList:y.Z,QItem:q.Z,QItemSection:Z.Z,QScrollArea:C.Z,QItemLabel:Q.Z,QIcon:O.Z,QPageContainer:D.Z,QFooter:L.Z,QInput:A.Z,QField:j.Z}),M()(w,"directives",{Ripple:x.Z})}}]);